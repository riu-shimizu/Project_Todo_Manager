# 📘 プロジェクト管理＆Todo統合アプリ 要件定義書（改訂・完全版 v2）

## 1. システム概要

本システムは、**1〜10 名程度の小規模プロジェクト向け**に設計された、
**タスク階層管理 + ガントチャート + 実用的 Todo 管理**を統合した Web アプリである。

タスクは **大項目 → 中項目 → 小項目 → Todo** の 4 階層で構成され、
特に進捗管理を重視した設計とする。

主な特徴：

* 大中小項目はすべてプロジェクト管理のため、**予定・実績の記入は必須**
* 最下層の「Todo」は作業単位として、**ステータス管理 & 担当者管理が必須**
* Todo の担当者は **デフォルト＝作成者**、他ユーザーへの割り当ても可能
* 大項目はガントチャートでサマリー表示 → ダブルクリックで中小項目へドリルダウン
* 今日すべき Todo をワンクリックで抽出
* UI は**シンプル・軽量・高速**を最重視

---

## 2. 目的

* **プロジェクト構造を階層的に整理**し、進捗を自動集計して把握しやすくする
* 大掛かりな PM ツールのような “重さ” を排除し、
  小規模チームでも無理なく使える **必要最低限の機能を持った軽量な進捗管理ツール**を提供
* 実際の作業者の視点では、**Todo と担当者の明確化で “今日やること” が一目でわかる**

---

## 3. 用語定義

| 用語         | 説明                                    |
| ---------- | ------------------------------------- |
| 大項目（Phase） | プロジェクトの主要工程。ガントチャートに常時表示される。          |
| 中項目（Work）  | 大項目を分解したサブ工程。進捗管理対象。                  |
| 小項目（Task）  | 実際の作業をまとめた単位。予定実績は必須。                 |
| Todo       | 小項目をさらに分解した「実際の作業タスク」。ステータスと担当者管理が必須。 |
| 進捗         | 子階層の “完了数/総数” から自動計算される。 |

---

## 4. ターゲットユーザー

* 1~10名程度の小規模の開発チーム・研究グループ・デザインチーム
* シンプルかつ直感的にプロジェクト進捗を管理したいユーザー
* 大型 PM ツール（Asana, Backlog, Notion）は重くて使いづらい人 
* プライベートプロジェクト・副業プロジェクトにも利用可能

---

## 5. 階層構造

```
プロジェクト
 └─ 大項目（ステータス・予定・実績・進捗必須）
      └─ 中項目（ステータス・予定・実績・進捗必須）
           └─ 小項目（ステータス・予定・実績・進捗必須）
                └─ Todo（ステータス・担当者必須）
```

---

## 6. 機能要件

# 6.1 プロジェクト管理

* プロジェクト作成（名称 / 説明 / メンバー設定）
* プロジェクトごとに独立したページ
* 権限は「オーナー / メンバー」
* プロジェクトごとのガントチャート表示

---

## 6.2 タスク管理（大・中・小・Todoの4階層）

### 6.2.1 階層構造と操作

| レベル  | 親   | 子    |
| ---- | --- | ---- |
| 大項目  | なし  | 中項目  |
| 中項目  | 大項目 | 小項目  |
| 小項目  | 中項目 | Todo |
| Todo | 小項目 | なし   |

操作：

* タスクを縦一列リストで表示（インデントで階層表示）
* ドラッグ＆ドロップで並べ替え
* インライン編集（タイトル・予定・実績・ステータス）

---

### 6.2.2 各レベルの必須属性

#### ■ 大項目 / 中項目 / 小項目（共通）

| 属性       | 必須 |
| -------- | -- |
| タイトル     | ✔  |
| 予定日      | ✔  |
| 実績日      | ✔  |
| 進捗（自動計算） | ✔  |
| メモ       | 任意 |

* 項目の進捗 “子要素の完了割合” から自動計算

---

#### ■ Todo（最下層）

| 属性                | 必須           |
| ----------------- | ------------ |
| タイトル              | ✔            |
| ステータス（未着手/進行中/完了） | ✔            |
| 担当者               | ✔（デフォルト＝作成者） |
| 期限                | 任意           |
| メモ                | 任意           |
| 参考URL             | 任意           |

---

### 6.2.3 進捗の計算

小項目の進捗は下記のロジック：

```
進捗 (%) = (子階層の完了数 / 子階層の総数) × 100
```

階層の例：
プロジェクト → その配下の大項目の完了数
中項目 →　その配下の小項目の完了数
小項目 → その配下のTodoから自動計算

※予定・実績が存在していても、進捗値は “完了率” から計算する


---

## 6.3 ガントチャート

### 6.3.1 大項目サマリー（標準ビュー）

* 大項目のみを表示し、プロジェクト全体を俯瞰
* 予定・実績バーを重ねて表示
* 遅延は赤、完了は緑

### 6.3.2 ドリルダウン（詳細ビュー）

* 大項目をダブルクリック → 中項目 + 小項目 + Todo の詳細ガント表示
* 小項目には進捗バー（色分け）を表示
* Todo はステータスの色で表現

### 6.3.3 色分け

| 状態  | 色   |
| --- | --- |
| 未着手 | グレー |
| 進行中 | 青   |
| 完了  | 緑   |
| 遅延  | 赤   |

---

## 6.4 今日のTodo 画面

* 今日やるべき Todo（期限が今日、または手動で “今日実施” チェック）を抽出
* ステータス変更可能
* 担当者フィルタ / 優先順位ソートを提供

---

## 6.5 検索・フィルタ

* キーワード検索
* 担当者フィルタ
* ステータスフィルタ
* 期限フィルタ（今日・今週・期限切れ）
* 完了済み Todo の表示/非表示

---

## 7. 非機能要件

### 7.1 性能

* プロジェクト初期ロード：3 秒以内
* 500 〜 1000 タスク規模でも高速操作可能（Virtualized List 採用）
* ガントチャートはオンデマンド描画で軽量化

---

### 7.2 UI/UX

* すべてインライン編集
* 階層構造は collapsible（折り畳み）で見やすく
* シンプルで入力負荷の少ない UI
* 進捗率は常にリアルタイム更新

---

### 7.3 セキュリティ

* HTTPS
* パスワードハッシュ化
* プロジェクトごとのアクセス制御（メンバー-only）

---

### 7.4 拡張性

* API ベース設計（モバイル、外部連携に対応）
* 将来的に以下を追加可能：

  * コメント / チャット
  * タグ管理
  * 通知機能
  * 依存関係の可視化（PERT 風）

